#! /bin/sh

prefix=@prefix@
exec_prefix=@exec_prefix@
libdir=@libdir@
bindir=@bindir@
sbindir=@sbindir@
datadir=@datadir@
pythondir=@pythondir@
pyexecdir=@pyexecdir@

### USER SETUP START
# Add your domain tables here (comma separated)
DBTABLES_CUSTOM=${DBTABLES_CUSTOM:-TEST}

# if you want to start the TACO services in secure mode set "yes" else "no"
TACO_SECURITY=no

# if you want to start the TACO services with logging set "yes" else "no"
TACO_LOGGING=yes

# set the database type "dbm" or "mysql"
TACO_DATABASE=dbm

# set the mySQL user for the taco database
MYSQL_USER=root

# set the password for the mySQL user for the taco database
MYSQL_PASSWORD=

# It is unlikely that the rest of the file needs a modification
DSHOME=${DSHOME:-${prefix}}

### USER SETUP END

DBTABLES=NAMES,PS_NAMES,CLASS,SYS,ERROR,CMDS,SEC,EVENTS,${DBTABLES_CUSTOM}
unset DBTABLES_CUSTOM

RES_BASE_DIR=${RES_BASE_DIR:-@resdatadir@}
DBM_DIR=@dbmdir@
LOGPATH=@datadir@/taco/log
NETHOST=${NETHOST:-`@HOSTNAME@`}
if test "$DSHOME" = "$prefix" ; then
	LD_LIBRARY_PATH=@libdir@${LD_LIBRARY_PATH:+:}${LD_LIBRARY_PATH}
	TACO_PATH=@sbindir@
	PATH=${TACO_PATH}:@bindir@${PATH:+:}${PATH}
else
	LD_LIBRARY_PATH=${DSHOME}/lib/${LD_LIBRARY_PATH:+:}${LD_LIBRARY_PATH}
	TACO_PATH=${DSHOME}/sbin/
	PATH=${TACO_PATH}:${DSHOME}/bin/${PATH:+:}${PATH}
fi

if test x"$TACO_LOGGING" = x"yes" -a ! -d $LOGPATH ; then
	mkdir -p $LOGPATH
fi

if test ! -d $sbindir/system/error ; then
	mkdir -p $sbindir/system/error
fi

if test ! -d $sbindir/system/pipe ; then
	mkdir -p $sbindir/system/pipe
fi

LD_LIBRARY_PATH=@GCC_LIBRARY_PATH@:${LD_LIBRARY_PATH}
PYTHONPATH=@pythondir@:@pyexecdir@${PYTHONPATH:+:}${PYTHONPATH}

export DSHOME DBTABLES RES_BASE_DIR DBM_DIR LOGPATH NETHOST LD_LIBRARY_PATH TACO_PATH PATH PYTHONPATH MYSQL_USER MYSQL_PASSWORD

